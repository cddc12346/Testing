# Copyright 2022 The Chromium Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/config/chromebox_for_meetings/buildflags.gni")
import("//build/config/chromeos/ui_mode.gni")
import("//build/config/sanitizers/sanitizers.gni")
import("//extensions/buildflags/buildflags.gni")

assert(enable_extensions)
assert(is_chromeos_ash)

copy("mojo_service_manager_policy") {
  sources = [ "net/network_health/network_health_service_policy.json" ]
  outputs = [ "$root_out_dir/mojo_service_manager/{{source_file_part}}" ]
}

source_set("unit_tests") {
  testonly = true

  sources = [
    "../download/notification/multi_profile_download_notifier_unittest.cc",
    "../extensions/api/enterprise_platform_keys/enterprise_platform_keys_api_unittest.cc",
    "../extensions/api/enterprise_platform_keys_private/enterprise_platform_keys_private_api_unittest.cc",
    "../extensions/updater/local_extension_cache_unittest.cc",
    "../memory/memory_kills_monitor_unittest.cc",
    "../memory/oom_kills_monitor_unittest.cc",
    "../metrics/chromeos_system_profile_provider_unittest.cc",
    "../metrics/cros_healthd_metrics_provider_unittest.cc",
    "../metrics/perf/cpu_identity_unittest.cc",
    "../metrics/perf/random_selector_unittest.cc",
    "../policy/default_geolocation_policy_handler_unittest.cc",
    "../ui/browser_finder_chromeos_unittest.cc",
    "../ui/webui/settings/about_handler_unittest.cc",
  ]

  deps = [
    "//ash",
    "//ash:test_support",
    "//ash/app_list/model:app_list_model",
    "//ash/components/arc",
    "//ash/components/arc:arc_base",
    "//ash/components/arc:arc_base_utils",
    "//ash/components/arc:arc_features",
    "//ash/components/arc:arc_metrics_constants",
    "//ash/components/arc:arc_test_support",
    "//ash/components/arc:compat_mode_test_support",
    "//ash/components/arc:notification_test_support",
    "//ash/components/arc:prefs",
    "//ash/components/arc/mojom",
    "//ash/components/arc/session",
    "//ash/components/arc/session:arc_base_enums",
    "//ash/components/arc/session:connection_holder",
    "//ash/components/kcer",
    "//ash/components/kcer:test_support",
    "//ash/constants",
    "//ash/public/cpp",
    "//ash/public/cpp:test_support",
    "//ash/public/cpp/app_list/vector_icons",
    "//ash/public/cpp/assistant/test_support",
    "//ash/public/cpp/external_arc",
    "//ash/public/cpp/external_arc:test_support",
    "//ash/public/mojom",
    "//ash/quick_pair/common",
    "//ash/quick_pair/common:test_support",
    "//ash/quick_pair/proto:fastpair_proto",
    "//ash/quick_pair/repository",
    "//ash/quick_pair/repository:test_support",
    "//ash/strings",
    "//ash/webui/eche_app_ui:test_support",
    "//ash/webui/file_manager:constants",
    "//ash/webui/file_manager:file_manager_ui",
    "//ash/webui/file_manager:file_manager_untrusted_ui",
    "//ash/webui/help_app_ui",
    "//ash/webui/scanning",
    "//ash/webui/scanning/mojom",
    "//ash/webui/settings/public/constants:mojom",
    "//base",
    "//base:i18n",
    "//base/test:test_config",
    "//base/test:test_support",
    "//build:branding_buildflags",
    "//build:chromeos_buildflags",
    "//cc/base",
    "//chrome/app:command_ids",
    "//chrome/app:generated_resources",
    "//chrome/app/vector_icons",
    "//chrome/browser",
    "//chrome/browser:browser_process",
    "//chrome/browser/apps:icon_standardizer",
    "//chrome/browser/apps/app_discovery_service",
    "//chrome/browser/apps/app_preload_service",
    "//chrome/browser/apps/app_service:constants",
    "//chrome/browser/apps/app_service:test_support",
    "//chrome/browser/apps/app_service/app_icon",
    "//chrome/browser/apps/app_service/app_icon:util",
    "//chrome/browser/ash/accessibility",
    "//chrome/browser/ash/app_list/arc:test_support",
    "//chrome/browser/ash/app_list/search/ranking:proto",
    "//chrome/browser/ash/app_list/search/util:proto",
    "//chrome/browser/ash/app_list/vector_icons",
    "//chrome/browser/ash/app_mode:test_support",
    "//chrome/browser/ash/app_restore",
    "//chrome/browser/ash/arc",
    "//chrome/browser/ash/arc/fileapi",
    "//chrome/browser/ash/arc/input_overlay/db/proto",
    "//chrome/browser/ash/arc/policy",
    "//chrome/browser/ash/arc/session",
    "//chrome/browser/ash/arc/test:arc_test_support",
    "//chrome/browser/ash/arc/tracing",
    "//chrome/browser/ash/arc/tracing/test:test_support",
    "//chrome/browser/ash/attestation",
    "//chrome/browser/ash/attestation:attestation_proto",
    "//chrome/browser/ash/attestation:test_support",
    "//chrome/browser/ash/borealis:borealis_installer_types_mojom",
    "//chrome/browser/ash/borealis/testing:test_support",
    "//chrome/browser/ash/bruschetta",
    "//chrome/browser/ash/child_accounts",
    "//chrome/browser/ash/child_accounts/on_device_controls",
    "//chrome/browser/ash/crosapi",
    "//chrome/browser/ash/crosapi:browser_util",
    "//chrome/browser/ash/crosapi:test_support",
    "//chrome/browser/ash/crostini:crostini_installer_types_mojom",
    "//chrome/browser/ash/crostini:test_support",
    "//chrome/browser/ash/customization",
    "//chrome/browser/ash/device_name:test_support",
    "//chrome/browser/ash/eche_app",
    "//chrome/browser/ash/extended_updates",
    "//chrome/browser/ash/extended_updates/test:test_support",
    "//chrome/browser/ash/extensions/login_screen_ui",
    "//chrome/browser/ash/file_manager",
    "//chrome/browser/ash/file_manager:test_support",
    "//chrome/browser/ash/file_system_provider",
    "//chrome/browser/ash/file_system_provider:test_support",
    "//chrome/browser/ash/fusebox",
    "//chrome/browser/ash/guest_os",
    "//chrome/browser/ash/guest_os:guest_os_diagnostics_mojom",
    "//chrome/browser/ash/guest_os:test_support",
    "//chrome/browser/ash/guest_os/public",
    "//chrome/browser/ash/hats",
    "//chrome/browser/ash/input_device_settings",
    "//chrome/browser/ash/input_method",
    "//chrome/browser/ash/kerberos",
    "//chrome/browser/ash/lock_screen_apps",
    "//chrome/browser/ash/login/demo_mode:test_support",
    "//chrome/browser/ash/login/lock/online_reauth",
    "//chrome/browser/ash/login/saml:test_support",
    "//chrome/browser/ash/login/users:test_support",
    "//chrome/browser/ash/multidevice_setup",
    "//chrome/browser/ash/net",
    "//chrome/browser/ash/net:test_support",
    "//chrome/browser/ash/net/network_diagnostics",
    "//chrome/browser/ash/net/rollback_network_config",
    "//chrome/browser/ash/net/rollback_network_config:test_support",
    "//chrome/browser/ash/notifications",
    "//chrome/browser/ash/ownership",
    "//chrome/browser/ash/phonehub",
    "//chrome/browser/ash/platform_keys/key_permissions",
    "//chrome/browser/ash/platform_keys/key_permissions:test_support",
    "//chrome/browser/ash/plugin_vm",
    "//chrome/browser/ash/plugin_vm:test_support",
    "//chrome/browser/ash/policy/core",
    "//chrome/browser/ash/policy/core:test_support",
    "//chrome/browser/ash/policy/enrollment",
    "//chrome/browser/ash/policy/enrollment:test_support",
    "//chrome/browser/ash/policy/invalidation:test_support",
    "//chrome/browser/ash/policy/status_collector",
    "//chrome/browser/ash/power/ml:user_activity_ukm_logger_helpers",
    "//chrome/browser/ash/power/ml/smart_dim",
    "//chrome/browser/ash/printing",
    "//chrome/browser/ash/printing:test_support",
    "//chrome/browser/ash/printing/enterprise",
    "//chrome/browser/ash/printing/enterprise:managed_printer_proto",
    "//chrome/browser/ash/printing/history",
    "//chrome/browser/ash/printing/history:print_job_info_proto",
    "//chrome/browser/ash/printing/oauth2",
    "//chrome/browser/ash/printing/oauth2:test_support",
    "//chrome/browser/ash/privacy_hub",
    "//chrome/browser/ash/settings",
    "//chrome/browser/ash/settings:test_support",
    "//chrome/browser/ash/shimless_rma",
    "//chrome/browser/ash/sync",
    "//chrome/browser/ash/system_web_apps",
    "//chrome/browser/ash/system_web_apps/types",
    "//chrome/browser/ash/usb",
    "//chrome/browser/ash/wallpaper_handlers",
    "//chrome/browser/ash/wallpaper_handlers:test_support",
    "//chrome/browser/chromeos/drivefs",
    "//chrome/browser/chromeos/launcher_search:search_util",
    "//chrome/browser/enterprise/connectors/test:test_support",
    "//chrome/browser/enterprise/data_controls:test_support",
    "//chrome/browser/extensions",
    "//chrome/browser/extensions:test_support",
    "//chrome/browser/image_decoder",
    "//chrome/browser/media/router:media_router_feature",
    "//chrome/browser/nearby_sharing/common",
    "//chrome/browser/policy:onc",
    "//chrome/browser/policy:test_support",
    "//chrome/browser/policy/messaging_layer/proto:add_remove_user_event_proto",
    "//chrome/browser/policy/messaging_layer/proto:app_install_events_proto",
    "//chrome/browser/policy/messaging_layer/proto:crd_event_proto",
    "//chrome/browser/policy/messaging_layer/proto:lock_unlock_event_proto",
    "//chrome/browser/policy/messaging_layer/proto:log_upload_event_proto",
    "//chrome/browser/screen_ai:screen_ai_install_state",
    "//chrome/browser/screen_ai/public:optical_character_recognizer",
    "//chrome/browser/search_engines",
    "//chrome/browser/sync",
    "//chrome/browser/ui",
    "//chrome/browser/ui:test_support",
    "//chrome/browser/ui/ash/holding_space:test_support",
    "//chrome/browser/ui/ash/keyboard:ash_test_support",
    "//chrome/browser/ui/ash/login:test_support",
    "//chrome/browser/ui/ash/multi_user",
    "//chrome/browser/ui/webui/ash/settings",
    "//chrome/browser/ui/webui/ash/settings/calculator:test_support",
    "//chrome/browser/ui/webui/ash/settings/constants",
    "//chrome/browser/ui/webui/ash/settings/pages",
    "//chrome/browser/ui/webui/ash/settings/pages/apps/mojom",
    "//chrome/browser/ui/webui/ash/settings/pages/device/input_device_settings:mojom",
    "//chrome/browser/ui/webui/ash/settings/pages/privacy/mojom",
    "//chrome/browser/ui/webui/ash/settings/search",
    "//chrome/browser/ui/webui/ash/settings/search/mojom",
    "//chrome/browser/ui/webui/ash/settings/test_support",
    "//chrome/browser/web_applications",
    "//chrome/browser/web_applications:web_applications_test_support",
    "//chrome/browser/web_applications/mojom:mojom_web_apps_enum",
    "//chrome/common",
    "//chrome/common:channel_info",
    "//chrome/common:chrome_features",
    "//chrome/common:constants",
    "//chrome/common:non_code_constants",
    "//chrome/common/extensions/api",
    "//chrome/test:sync_integration_test_support",
    "//chrome/test:test_support",
    "//chrome/test:test_support_ui",
    "//chrome/test:test_support_unit",
    "//chromeos:test_utils",
    "//chromeos/ash/components/account_manager",
    "//chromeos/ash/components/attestation:test_support",
    "//chromeos/ash/components/audio",
    "//chromeos/ash/components/audio/public/cpp/sounds",
    "//chromeos/ash/components/borealis",
    "//chromeos/ash/components/browser_context_helper",
    "//chromeos/ash/components/cryptohome",
    "//chromeos/ash/components/dbus",
    "//chromeos/ash/components/dbus:vm_applications_apps_proto",
    "//chromeos/ash/components/dbus/anomaly_detector",
    "//chromeos/ash/components/dbus/arc",
    "//chromeos/ash/components/dbus/arc:arcvm_data_migrator_proto_lib",
    "//chromeos/ash/components/dbus/attestation",
    "//chromeos/ash/components/dbus/attestation:attestation_proto",
    "//chromeos/ash/components/dbus/audio",
    "//chromeos/ash/components/dbus/biod",
    "//chromeos/ash/components/dbus/chunneld",
    "//chromeos/ash/components/dbus/cicerone",
    "//chromeos/ash/components/dbus/cicerone:cicerone_proto",
    "//chromeos/ash/components/dbus/concierge",
    "//chromeos/ash/components/dbus/concierge:concierge_proto",
    "//chromeos/ash/components/dbus/constants",
    "//chromeos/ash/components/dbus/cros_disks",
    "//chromeos/ash/components/dbus/cryptohome",
    "//chromeos/ash/components/dbus/cryptohome:attestation_proto",
    "//chromeos/ash/components/dbus/cryptohome:cryptohome_proto",
    "//chromeos/ash/components/dbus/debug_daemon",
    "//chromeos/ash/components/dbus/dlcservice",
    "//chromeos/ash/components/dbus/dlcservice:dlcservice_proto",
    "//chromeos/ash/components/dbus/federated",
    "//chromeos/ash/components/dbus/gnubby",
    "//chromeos/ash/components/dbus/hermes",
    "//chromeos/ash/components/dbus/kerberos",
    "//chromeos/ash/components/dbus/lorgnette_manager",
    "//chromeos/ash/components/dbus/lorgnette_manager:lorgnette_proto",
    "//chromeos/ash/components/dbus/oobe_config",
    "//chromeos/ash/components/dbus/pciguard",
    "//chromeos/ash/components/dbus/printscanmgr",
    "//chromeos/ash/components/dbus/resourced",
    "//chromeos/ash/components/dbus/seneschal",
    "//chromeos/ash/components/dbus/seneschal:seneschal_proto",
    "//chromeos/ash/components/dbus/services:test_support",
    "//chromeos/ash/components/dbus/session_manager",
    "//chromeos/ash/components/dbus/shill",
    "//chromeos/ash/components/dbus/smbprovider",
    "//chromeos/ash/components/dbus/smbprovider:proto",
    "//chromeos/ash/components/dbus/spaced",
    "//chromeos/ash/components/dbus/system_clock",
    "//chromeos/ash/components/dbus/system_proxy",
    "//chromeos/ash/components/dbus/system_proxy:system_proxy_proto",
    "//chromeos/ash/components/dbus/update_engine",
    "//chromeos/ash/components/dbus/upstart",
    "//chromeos/ash/components/dbus/userdataauth",
    "//chromeos/ash/components/dbus/virtual_file_provider",
    "//chromeos/ash/components/dbus/vm_plugin_dispatcher",
    "//chromeos/ash/components/disks",
    "//chromeos/ash/components/disks:test_support",
    "//chromeos/ash/components/drivefs/mojom",
    "//chromeos/ash/components/drivefs/mojom:mojom_shared",
    "//chromeos/ash/components/drivefs/mojom:pinning_manager_types",
    "//chromeos/ash/components/feature_usage",
    "//chromeos/ash/components/install_attributes",
    "//chromeos/ash/components/install_attributes:test_support",
    "//chromeos/ash/components/kiosk/vision:vision",
    "//chromeos/ash/components/launcher_search",
    "//chromeos/ash/components/local_search_service",
    "//chromeos/ash/components/local_search_service/public/cpp",
    "//chromeos/ash/components/local_search_service/public/mojom",
    "//chromeos/ash/components/login/auth",
    "//chromeos/ash/components/login/auth/public:authpublic",
    "//chromeos/ash/components/login/login_state",
    "//chromeos/ash/components/login/login_state:test_support",
    "//chromeos/ash/components/login/session",
    "//chromeos/ash/components/mojo_service_manager:test_support",
    "//chromeos/ash/components/network",
    "//chromeos/ash/components/network:test_support",
    "//chromeos/ash/components/network/portal_detector",
    "//chromeos/ash/components/network/portal_detector:test_support",
    "//chromeos/ash/components/peripheral_notification",
    "//chromeos/ash/components/phonehub",
    "//chromeos/ash/components/phonehub:debug",
    "//chromeos/ash/components/phonehub:test_support",
    "//chromeos/ash/components/phonehub/proto",
    "//chromeos/ash/components/proximity_auth",
    "//chromeos/ash/components/proximity_auth:test_support",
    "//chromeos/ash/components/report:fresnel_service_proto",
    "//chromeos/ash/components/scanning",
    "//chromeos/ash/components/settings",
    "//chromeos/ash/components/smbfs",
    "//chromeos/ash/components/standalone_browser:standalone_browser",
    "//chromeos/ash/components/string_matching",
    "//chromeos/ash/components/sync_wifi:test_support",
    "//chromeos/ash/components/system",
    "//chromeos/ash/components/system_info",
    "//chromeos/ash/components/tether",
    "//chromeos/ash/components/tether:test_support",
    "//chromeos/ash/components/trash_service",
    "//chromeos/ash/components/trash_service/public/cpp",
    "//chromeos/ash/components/trash_service/public/mojom",
    "//chromeos/ash/components/wifi_p2p",
    "//chromeos/ash/resources",
    "//chromeos/ash/services/cros_healthd/public/cpp:test_support",
    "//chromeos/ash/services/cros_healthd/public/mojom",
    "//chromeos/ash/services/cros_healthd/public/mojom:mojom_shared",
    "//chromeos/ash/services/device_sync",
    "//chromeos/ash/services/device_sync:test_support",
    "//chromeos/ash/services/device_sync/public/cpp:test_support",
    "//chromeos/ash/services/federated/public/cpp:cpp",
    "//chromeos/ash/services/federated/public/cpp:test_support",
    "//chromeos/ash/services/ime/public/cpp:structs",
    "//chromeos/ash/services/ime/public/mojom",
    "//chromeos/ash/services/multidevice_setup/public/cpp:prefs",
    "//chromeos/ash/services/multidevice_setup/public/cpp:test_support",
    "//chromeos/ash/services/nearby/public/cpp:test_support",
    "//chromeos/ash/services/network_config",
    "//chromeos/ash/services/network_config:in_process_instance",
    "//chromeos/ash/services/network_config/public/cpp:test_support",
    "//chromeos/ash/services/secure_channel/public/cpp/client:test_support",
    "//chromeos/components/disks:prefs",
    "//chromeos/components/kiosk:test_support",
    "//chromeos/components/onc",
    "//chromeos/components/onc:test_support",
    "//chromeos/components/print_management/mojom",
    "//chromeos/components/sensors",
    "//chromeos/components/sensors:test_support",
    "//chromeos/constants",
    "//chromeos/crosapi/mojom",
    "//chromeos/dbus/constants",
    "//chromeos/dbus/dlp",
    "//chromeos/dbus/dlp:dlp_proto",
    "//chromeos/dbus/machine_learning",
    "//chromeos/dbus/missive",
    "//chromeos/dbus/missive:history_tracker",
    "//chromeos/dbus/permission_broker",
    "//chromeos/dbus/power:power_manager_proto",
    "//chromeos/dbus/regmon",
    "//chromeos/dbus/regmon:regmon_proto",
    "//chromeos/printing",
    "//chromeos/services/machine_learning/public/cpp",
    "//chromeos/services/machine_learning/public/cpp:stub",
    "//chromeos/services/machine_learning/public/mojom",
    "//chromeos/services/network_config/public/cpp",
    "//chromeos/services/network_config/public/cpp:test_support",
    "//chromeos/services/network_config/public/mojom",
    "//chromeos/services/network_health/public/mojom",
    "//chromeos/strings",
    "//chromeos/ui/base",
    "//chromeos/ui/frame:test_support",
    "//chromeos/ui/vector_icons",
    "//components/account_id",
    "//components/account_manager_core",
    "//components/account_manager_core:test_support",
    "//components/app_constants",
    "//components/app_restore",
    "//components/arc:arc_test_support",
    "//components/assist_ranker/proto",
    "//components/autofill/core/browser",
    "//components/autofill/core/browser:test_support",
    "//components/bookmarks/browser",
    "//components/bookmarks/test",
    "//components/captive_portal/core",
    "//components/captive_portal/core:test_support",
    "//components/component_updater",
    "//components/component_updater:test_support",
    "//components/component_updater/ash:test_support",
    "//components/consent_auditor:test_support",
    "//components/content_settings/core/browser",
    "//components/content_settings/core/common",
    "//components/crash/core/common:crash_key",
    "//components/crx_file",
    "//components/download/content/public",
    "//components/download/public/background_service/test:test_support",
    "//components/download/public/common:test_support",
    "//components/drive",
    "//components/drive:test_support",
    "//components/enterprise",
    "//components/enterprise/data_controls/core/browser:dlp_policy_event_proto",
    "//components/exo",
    "//components/exo:test_support",
    "//components/exo/server",
    "//components/exo/wayland:test_support",
    "//components/favicon/core",
    "//components/favicon/core/test:test_support",
    "//components/favicon_base",
    "//components/feature_engagement/public",
    "//components/feedback",
    "//components/feedback/proto",
    "//components/file_access",
    "//components/flags_ui",
    "//components/gcm_driver:test_support",
    "//components/gcm_driver/common",
    "//components/history/core/browser",
    "//components/history/core/test",
    "//components/image_fetcher/core",
    "//components/invalidation/impl",
    "//components/invalidation/impl:test_support",
    "//components/invalidation/public",
    "//components/keyed_service/content",
    "//components/keyed_service/core",
    "//components/language/core/browser",
    "//components/leveldb_proto",
    "//components/leveldb_proto:test_support",
    "//components/live_caption:constants",
    "//components/manta",
    "//components/metrics",
    "//components/metrics:serialization",
    "//components/metrics:test_support",
    "//components/metrics/structured",
    "//components/metrics/structured:structured_events",
    "//components/metrics/structured:test_support",
    "//components/omnibox/browser",
    "//components/omnibox/browser:location_bar",
    "//components/omnibox/browser:test_support",
    "//components/omnibox/browser:vector_icons",
    "//components/onc",
    "//components/ownership",
    "//components/policy:generated",
    "//components/policy:policy_code_generate",
    "//components/policy/core/browser",
    "//components/policy/core/browser:test_support",
    "//components/policy/core/common",
    "//components/policy/core/common:common_constants",
    "//components/policy/core/common:policy_namespace",
    "//components/policy/core/common:test_support",
    "//components/policy/proto",
    "//components/proxy_config",
    "//components/qr_code_generator:bitmap_generator",
    "//components/reporting/client:report_queue",
    "//components/reporting/client:report_queue_configuration",
    "//components/reporting/client:test_support",
    "//components/reporting/metrics:metrics_data_collection",
    "//components/reporting/metrics/fakes:test_support",
    "//components/reporting/proto:health_proto",
    "//components/reporting/proto:interface_proto",
    "//components/reporting/proto:metric_data_proto",
    "//components/reporting/proto:record_constants",
    "//components/reporting/storage:test_support",
    "//components/reporting/util:rate_limiter_interface",
    "//components/reporting/util:rate_limiter_slide_window",
    "//components/reporting/util:status",
    "//components/reporting/util:test_callbacks_support",
    "//components/safe_browsing/core/common:safe_browsing_prefs",
    "//components/search_engines",
    "//components/services/app_service",
    "//components/services/app_service/public/cpp:test_support",
    "//components/services/app_service/public/protos",
    "//components/services/filesystem/public/mojom",
    "//components/session_manager:base",
    "//components/sessions:test_support",
    "//components/signin/public/base",
    "//components/signin/public/identity_manager",
    "//components/signin/public/identity_manager:test_support",
    "//components/site_engagement/content",
    "//components/spellcheck/browser",
    "//components/spellcheck/common:spellcheck_result",
    "//components/storage_monitor",
    "//components/strings:components_strings",
    "//components/sync:test_support",
    "//components/sync/base",
    "//components/sync/chromeos",
    "//components/sync/engine",
    "//components/sync/model",
    "//components/sync/protocol",
    "//components/sync/protocol:util",
    "//components/sync/service",
    "//components/sync_preferences",
    "//components/sync_preferences:test_support",
    "//components/sync_sessions",
    "//components/ukm:test_support",
    "//components/ukm/content",
    "//components/user_prefs",
    "//components/variations",
    "//components/variations:test_support",
    "//components/version_info",
    "//components/webapps/browser",
    "//components/webapps/common",
    "//content/public/browser",
    "//content/public/common",
    "//content/test:test_support",
    "//crypto",
    "//crypto:test_support",
    "//dbus",
    "//device/bluetooth:mocks",
    "//device/udev_linux:test_support",
    "//extensions:test_support",
    "//extensions/browser",
    "//extensions/browser/api/automation_internal",
    "//extensions/browser/api/lock_screen_data",
    "//extensions/browser/api/messaging:native_messaging",
    "//extensions/browser/updater",
    "//extensions/browser/updater:test_support",
    "//extensions/common",
    "//extensions/common:common_constants",
    "//extensions/common:mojom",
    "//extensions/common:mojom_shared",
    "//extensions/common/api",
    "//google_apis",
    "//google_apis:test_support",
    "//google_apis/common",
    "//google_apis/drive",
    "//gpu/config",
    "//media:test_support",
    "//media/capture/video/chromeos/mojom:cros_camera",
    "//mojo/public/cpp/base",
    "//mojo/public/cpp/bindings",
    "//mojo/public/cpp/system",
    "//mojo/public/cpp/test_support:test_utils",
    "//net",
    "//net:test_support",
    "//net/traffic_annotation",
    "//net/traffic_annotation:test_support",
    "//printing/mojom",
    "//remoting/host/chromeos:features",
    "//remoting/host/chromeos:host_event_reporter_impl",
    "//remoting/host/mojom",
    "//services/accessibility/android:tests",
    "//services/audio/public/cpp",
    "//services/audio/public/cpp:test_support",
    "//services/cert_verifier/public/mojom",
    "//services/device/public/cpp:test_support",
    "//services/device/public/mojom",
    "//services/device/public/mojom:usb",
    "//services/metrics/public/cpp:gen_ukm_builders",
    "//services/metrics/public/cpp:metrics_cpp",
    "//services/network:network_service",
    "//services/network:test_support",
    "//services/network/public/cpp",
    "//services/network/public/cpp:cpp_base",
    "//services/network/public/mojom",
    "//services/network/public/mojom:cookies_mojom",
    "//services/network/public/mojom:url_loader_base",
    "//services/network/public/mojom:url_loader_base_shared",
    "//services/video_capture/public/mojom",
    "//skia",
    "//storage/browser",
    "//storage/browser:test_support",
    "//storage/common",
    "//testing/gmock",
    "//testing/gtest",
    "//third_party/abseil-cpp:absl",
    "//third_party/blink/public/common:headers",
    "//third_party/blink/public/mojom:mojom_core",
    "//third_party/blink/public/mojom:mojom_platform",
    "//third_party/icu",
    "//third_party/libipp",
    "//third_party/metrics_proto",
    "//third_party/private_membership:private_membership_proto",
    "//third_party/protobuf:protobuf_lite",
    "//third_party/securemessage/proto",
    "//third_party/shell-encryption:shell_encryption_test_library",
    "//third_party/zlib/google:compression_utils",
    "//ui/accessibility",
    "//ui/accessibility:ax_base",
    "//ui/accessibility:ax_enums_mojo",
    "//ui/aura",
    "//ui/aura:test_support",
    "//ui/base",
    "//ui/base:features",
    "//ui/base:test_support",
    "//ui/base:types",
    "//ui/base/data_transfer_policy",
    "//ui/base/idle:test_support",
    "//ui/base/ime",
    "//ui/base/ime:ime_types",
    "//ui/base/ime:text_input_types",
    "//ui/base/ime/ash",
    "//ui/base/ime/init",
    "//ui/chromeos",
    "//ui/chromeos/strings",
    "//ui/compositor",
    "//ui/display",
    "//ui/display:display_manager_test_api",
    "//ui/display:test_support",
    "//ui/display/manager",
    "//ui/display/types",
    "//ui/display/util",
    "//ui/events",
    "//ui/events:dom_keycode_converter",
    "//ui/events:event_constants",
    "//ui/events:events_base",
    "//ui/events:platform_event",
    "//ui/events:test_support",
    "//ui/events/ash",
    "//ui/events/devices",
    "//ui/events/devices:test_support",
    "//ui/events/ozone/evdev:event_device_info",
    "//ui/events/ozone/evdev:event_device_info_test_utils",
    "//ui/events/platform",
    "//ui/events/types:headers",
    "//ui/gfx",
    "//ui/gfx:gfx_skia",
    "//ui/gfx:native_widget_types",
    "//ui/gfx:test_support",
    "//ui/gfx/codec",
    "//ui/gfx/geometry",
    "//ui/gfx/geometry:geometry_skia",
    "//ui/gfx/range",
    "//ui/message_center",
    "//ui/message_center:test_support",
    "//ui/message_center/public/cpp",
    "//ui/shell_dialogs",
    "//ui/views",
    "//ui/views:test_support",
    "//ui/views/controls/webview",
    "//ui/wm",
    "//ui/wm/public",
    "//url",

    # Gather unit tests from subdirectories.
    "//chrome/browser/ash/accessibility:unit_tests",
    "//chrome/browser/ash/account_manager:unit_tests",
    "//chrome/browser/ash/ambient:unit_tests",
    "//chrome/browser/ash/android_sms:unit_tests",
    "//chrome/browser/ash/api/tasks:unit_tests",
    "//chrome/browser/ash/app_list:unit_tests",
    "//chrome/browser/ash/app_mode:unit_tests",
    "//chrome/browser/ash/app_restore:unit_tests",
    "//chrome/browser/ash/apps:unit_tests",
    "//chrome/browser/ash/arc:unit_tests",
    "//chrome/browser/ash/assistant:unit_tests",
    "//chrome/browser/ash/attestation:unit_tests",
    "//chrome/browser/ash/audio:unit_tests",
    "//chrome/browser/ash/bluetooth:unit_tests",
    "//chrome/browser/ash/boca:unit_tests",
    "//chrome/browser/ash/boca/on_task:unit_tests",
    "//chrome/browser/ash/borealis:unit_tests",
    "//chrome/browser/ash/bruschetta:unit_tests",
    "//chrome/browser/ash/calendar:unit_tests",
    "//chrome/browser/ash/camera:unit_tests",
    "//chrome/browser/ash/camera_mic:unit_tests",
    "//chrome/browser/ash/cert_provisioning:unit_tests",
    "//chrome/browser/ash/certs:unit_tests",
    "//chrome/browser/ash/child_accounts:unit_tests",
    "//chrome/browser/ash/concierge_helper:unit_tests",
    "//chrome/browser/ash/crosapi:unit_tests",
    "//chrome/browser/ash/crostini:unit_tests",
    "//chrome/browser/ash/cryptauth:unit_tests",
    "//chrome/browser/ash/customization:unit_tests",
    "//chrome/browser/ash/dbus:unit_tests",
    "//chrome/browser/ash/dbus/vm:unit_tests",
    "//chrome/browser/ash/device_name:unit_tests",
    "//chrome/browser/ash/diagnostics:unit_tests",
    "//chrome/browser/ash/drive:unit_tests",
    "//chrome/browser/ash/eche_app:unit_tests",
    "//chrome/browser/ash/eol:unit_tests",
    "//chrome/browser/ash/events:unit_tests",
    "//chrome/browser/ash/exo:unit_tests",
    "//chrome/browser/ash/extended_updates:unit_tests",
    "//chrome/browser/ash/extensions:unit_tests",
    "//chrome/browser/ash/extensions/file_manager:unit_tests",
    "//chrome/browser/ash/extensions/login_screen_ui:unit_tests",
    "//chrome/browser/ash/external_metrics:unit_tests",
    "//chrome/browser/ash/file_manager:unit_tests",
    "//chrome/browser/ash/file_suggest:unit_tests",
    "//chrome/browser/ash/file_system_provider:unit_tests",
    "//chrome/browser/ash/fileapi:unit_tests",
    "//chrome/browser/ash/floating_sso:unit_tests",
    "//chrome/browser/ash/floating_workspace:unit_tests",
    "//chrome/browser/ash/fusebox:unit_tests",
    "//chrome/browser/ash/game_mode:unit_tests",
    "//chrome/browser/ash/geolocation:unit_tests",
    "//chrome/browser/ash/growth:unit_tests",
    "//chrome/browser/ash/guest_os:unit_tests",
    "//chrome/browser/ash/hats:unit_tests",
    "//chrome/browser/ash/input_method:unit_tests",
    "//chrome/browser/ash/kcer/nssdb_migration:unit_tests",
    "//chrome/browser/ash/kerberos:unit_tests",
    "//chrome/browser/ash/language_packs:unit_tests",
    "//chrome/browser/ash/lobster:unit_tests",
    "//chrome/browser/ash/locale:unit_tests",
    "//chrome/browser/ash/lock_screen_apps:unit_tests",
    "//chrome/browser/ash/login:unit_tests",
    "//chrome/browser/ash/magic_boost:unit_tests",
    "//chrome/browser/ash/mahi:unit_tests",
    "//chrome/browser/ash/mall:unit_tests",
    "//chrome/browser/ash/mobile:unit_tests",
    "//chrome/browser/ash/nearby:unit_tests",
    "//chrome/browser/ash/net:unit_tests",
    "//chrome/browser/ash/network_change_manager:unit_tests",
    "//chrome/browser/ash/note_taking:unit_tests",
    "//chrome/browser/ash/notifications:unit_tests",
    "//chrome/browser/ash/os_feedback:unit_tests",
    "//chrome/browser/ash/ownership:unit_tests",
    "//chrome/browser/ash/pcie_peripheral:unit_tests",
    "//chrome/browser/ash/phonehub:unit_tests",
    "//chrome/browser/ash/platform_keys:unit_tests",
    "//chrome/browser/ash/plugin_vm:unit_tests",
    "//chrome/browser/ash/policy/arc:unit_tests",
    "//chrome/browser/ash/policy/core:unit_tests",
    "//chrome/browser/ash/policy/dlp:unit_tests",
    "//chrome/browser/ash/policy/enrollment:unit_tests",
    "//chrome/browser/ash/policy/enrollment/psm:unit_tests",
    "//chrome/browser/ash/policy/external_data:unit_tests",
    "//chrome/browser/ash/policy/external_data/handlers:unit_tests",
    "//chrome/browser/ash/policy/handlers:unit_tests",
    "//chrome/browser/ash/policy/invalidation:unit_tests",
    "//chrome/browser/ash/policy/networking:unit_tests",
    "//chrome/browser/ash/policy/off_hours:unit_tests",
    "//chrome/browser/ash/policy/remote_commands:unit_tests",
    "//chrome/browser/ash/policy/remote_commands/crd:unit_tests",
    "//chrome/browser/ash/policy/reporting:unit_tests",
    "//chrome/browser/ash/policy/reporting/event_based_logs:unit_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting:unit_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/apps:unit_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/audio:unit_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/device_activity:unit_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/fatal_crash:unit_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/kiosk_heartbeat:unit_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/kiosk_vision:unit_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/network:unit_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/usb:unit_tests",
    "//chrome/browser/ash/policy/reporting/os_updates:unit_tests",
    "//chrome/browser/ash/policy/reporting/user_added_removed:unit_tests",
    "//chrome/browser/ash/policy/rsu:unit_tests",
    "//chrome/browser/ash/policy/scheduled_task_handler/test:unit_tests",
    "//chrome/browser/ash/policy/server_backed_state:unit_tests",
    "//chrome/browser/ash/policy/skyvault:unit_tests",
    "//chrome/browser/ash/policy/status_collector:unit_tests",
    "//chrome/browser/ash/policy/uploading:unit_tests",
    "//chrome/browser/ash/power:unit_tests",
    "//chrome/browser/ash/power/auto_screen_brightness:unit_tests",
    "//chrome/browser/ash/power/ml:unit_tests",
    "//chrome/browser/ash/power/ml/smart_dim:unit_tests",
    "//chrome/browser/ash/power/smart_charging:unit_tests",
    "//chrome/browser/ash/preferences:unit_tests",
    "//chrome/browser/ash/printing:unit_tests",
    "//chrome/browser/ash/printing/enterprise:unit_tests",
    "//chrome/browser/ash/printing/history:unit_tests",
    "//chrome/browser/ash/printing/oauth2:unit_tests",
    "//chrome/browser/ash/printing/print_management:unit_tests",
    "//chrome/browser/ash/printing/print_preview:unit_tests",
    "//chrome/browser/ash/release_notes:unit_tests",
    "//chrome/browser/ash/remote_apps:unit_tests",
    "//chrome/browser/ash/report_controller_initializer:unit_tests",
    "//chrome/browser/ash/sanitize:unit_tests",
    "//chrome/browser/ash/scanning:unit_tests",
    "//chrome/browser/ash/schedqos:unit_tests",
    "//chrome/browser/ash/scheduler_config:unit_tests",
    "//chrome/browser/ash/secure_channel:unit_tests",
    "//chrome/browser/ash/settings:unit_tests",
    "//chrome/browser/ash/sharesheet:unit_tests",
    "//chrome/browser/ash/shimless_rma:unit_tests",
    "//chrome/browser/ash/smb_client:unit_tests",
    "//chrome/browser/ash/smb_client/discovery:unit_tests",
    "//chrome/browser/ash/sparky:unit_tests",
    "//chrome/browser/ash/sync:unit_tests",
    "//chrome/browser/ash/system:unit_tests",
    "//chrome/browser/ash/system_logs:unit_tests",
    "//chrome/browser/ash/system_web_apps:unit_tests",
    "//chrome/browser/ash/tether:unit_tests",
    "//chrome/browser/ash/tpm:unit_tests",
    "//chrome/browser/ash/trusted_vault:unit_tests",
    "//chrome/browser/ash/usb:unit_tests",
    "//chrome/browser/ash/video_conference:unit_tests",
    "//chrome/browser/ash/wallpaper_handlers:unit_tests",
    "//chrome/browser/ui/views/select_file_dialog_extension:unit_tests",
  ]

  if (is_cfm) {
    deps += [ "//chrome/browser/ash/chromebox_for_meetings:unit_tests" ]
  }

  data = [ "//chromeos/test/data/" ]
}

group("browser_tests") {
  testonly = true

  deps = [
    # Gather browser tests from subdirectories.
    "//chrome/browser/ash/accessibility:browser_tests",
    "//chrome/browser/ash/account_manager:browser_tests",
    "//chrome/browser/ash/ambient:browser_tests",
    "//chrome/browser/ash/annotator:browser_tests",
    "//chrome/browser/ash/app_list:browser_tests",
    "//chrome/browser/ash/app_list/app_service:browser_tests",
    "//chrome/browser/ash/app_list/arc:browser_tests",
    "//chrome/browser/ash/app_list/search:browser_tests",
    "//chrome/browser/ash/app_list/search/files:browser_tests",
    "//chrome/browser/ash/app_mode:browser_tests",
    "//chrome/browser/ash/app_restore:browser_tests",
    "//chrome/browser/ash/apps:browser_tests",
    "//chrome/browser/ash/arc:browser_tests",
    "//chrome/browser/ash/audio:browser_tests",
    "//chrome/browser/ash/base:browser_tests",
    "//chrome/browser/ash/bluetooth:browser_tests",
    "//chrome/browser/ash/boca/on_task:browser_tests",
    "//chrome/browser/ash/bruschetta:browser_tests",
    "//chrome/browser/ash/child_accounts:browser_tests",
    "//chrome/browser/ash/crosapi:browser_tests",
    "//chrome/browser/ash/crostini:browser_tests",
    "//chrome/browser/ash/customization:browser_tests",
    "//chrome/browser/ash/dbus:browser_tests",
    "//chrome/browser/ash/display:browser_tests",
    "//chrome/browser/ash/drive:browser_tests",
    "//chrome/browser/ash/eche_app:browser_tests",
    "//chrome/browser/ash/eol:browser_tests",
    "//chrome/browser/ash/extensions:browser_tests",
    "//chrome/browser/ash/extensions/autotest_private:browser_tests",
    "//chrome/browser/ash/extensions/file_manager:browser_tests",
    "//chrome/browser/ash/extensions/login_screen_ui:browser_tests",
    "//chrome/browser/ash/extensions/speech:browser_tests",
    "//chrome/browser/ash/extensions/users_private:browser_tests",
    "//chrome/browser/ash/file_manager:browser_tests",
    "//chrome/browser/ash/file_suggest:browser_tests",
    "//chrome/browser/ash/file_system_provider:browser_tests",
    "//chrome/browser/ash/first_party_sets:browser_tests",
    "//chrome/browser/ash/floating_sso:browser_tests",
    "//chrome/browser/ash/geolocation:browser_tests",
    "//chrome/browser/ash/guest_os:browser_tests",
    "//chrome/browser/ash/input_device_settings:browser_tests",
    "//chrome/browser/ash/input_method:browser_tests",
    "//chrome/browser/ash/kcer:browser_tests",
    "//chrome/browser/ash/kerberos:browser_tests",
    "//chrome/browser/ash/locale:browser_tests",
    "//chrome/browser/ash/lock_screen_apps:browser_tests",
    "//chrome/browser/ash/logging:browser_tests",
    "//chrome/browser/ash/login:browser_tests",
    "//chrome/browser/ash/magic_boost:browser_tests",
    "//chrome/browser/ash/mahi:browser_tests",
    "//chrome/browser/ash/net:browser_tests",
    "//chrome/browser/ash/network_change_manager:browser_tests",
    "//chrome/browser/ash/note_taking:browser_tests",
    "//chrome/browser/ash/os_feedback:browser_tests",
    "//chrome/browser/ash/platform_keys:browser_tests",
    "//chrome/browser/ash/policy/affiliation:browser_tests",
    "//chrome/browser/ash/policy/arc:browser_tests",
    "//chrome/browser/ash/policy/core:browser_tests",
    "//chrome/browser/ash/policy/display:browser_tests",
    "//chrome/browser/ash/policy/dlp:browser_tests",
    "//chrome/browser/ash/policy/dlp/dialogs:browser_tests",
    "//chrome/browser/ash/policy/external_data:browser_tests",
    "//chrome/browser/ash/policy/handlers:browser_tests",
    "//chrome/browser/ash/policy/login:browser_tests",
    "//chrome/browser/ash/policy/networking:browser_tests",
    "//chrome/browser/ash/policy/remote_commands:browser_tests",
    "//chrome/browser/ash/policy/reporting/event_based_logs:browser_tests",
    "//chrome/browser/ash/policy/reporting/event_based_logs/event_observers:browser_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting:browser_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/apps:browser_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/audio:browser_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/device_activity:browser_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/fatal_crash:browser_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/kiosk_heartbeat:browser_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/kiosk_vision:browser_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/network:browser_tests",
    "//chrome/browser/ash/policy/reporting/metrics_reporting/usb:browser_tests",
    "//chrome/browser/ash/policy/reporting/os_updates:browser_tests",
    "//chrome/browser/ash/policy/reporting/user_added_removed:browser_tests",
    "//chrome/browser/ash/policy/skyvault:browser_tests",
    "//chrome/browser/ash/policy/status_collector:browser_tests",
    "//chrome/browser/ash/preferences:browser_tests",
    "//chrome/browser/ash/printing/print_management:browser_tests",
    "//chrome/browser/ash/privacy_hub:browser_tests",
    "//chrome/browser/ash/remote_apps:browser_tests",
    "//chrome/browser/ash/scalable_iph:browser_tests",
    "//chrome/browser/ash/smb_client:browser_tests",
    "//chrome/browser/ash/system:browser_tests",
    "//chrome/browser/ash/system_web_apps:browser_tests",
    "//chrome/browser/ash/test:browser_tests",
    "//chrome/browser/ash/video_conference:browser_tests",
    "//chrome/browser/ash/wallpaper:browser_tests",
  ]
}

if (is_chromeos_device) {
  group("integration_tests") {
    testonly = true

    deps = [
      "//chrome/browser/ash/accessibility:integration_tests",
      "//chrome/browser/ash/assistant:integration_tests",
      "//chrome/browser/ash/bluetooth:integration_tests",
      "//chrome/browser/ash/child_accounts:integration_tests",
      "//chrome/browser/ash/external_metrics:integration_tests",
      "//chrome/browser/ash/integration_tests",
      "//chrome/browser/ash/login:integration_tests",
      "//chrome/browser/ash/power/ml/smart_dim:integration_tests",
      "//chrome/browser/ash/scanning:integration_tests",
      "//chrome/browser/ash/system_web_apps:integration_tests",
    ]

    if (is_chrome_branded) {
      deps += [ "//chrome/browser/ash/arc:integration_tests" ]
    }
  }
} else {
  group("interactive_ui_tests") {
    testonly = true

    deps = [
      "//chrome/browser/ash/accessibility/live_caption:interactive_ui_tests",
      "//chrome/browser/ash/app_list:interactive_ui_tests",
      "//chrome/browser/ash/child_accounts:interactive_ui_tests",
      "//chrome/browser/ash/file_manager:interactive_ui_tests",
      "//chrome/browser/ash/growth:interactive_ui_tests",
      "//chrome/browser/ash/os_feedback:interactive_ui_tests",
      "//chrome/browser/ash/printing/print_management:interactive_ui_tests",
    ]
  }
}

# Entry point of fuzzer test build.
# All fuzzer test rules should be linked from here.
# If missing, specifically if the BUILD.gn contains only the fuzzer_test
# target, the BUILD.gn file may not be read.
group("fuzzers") {
  testonly = true

  deps = [
    "//chrome/browser/ash/extensions/file_manager:create_fnmatch_query_fuzzer",
    "//chrome/browser/ash/extensions/file_manager:search_by_pattern_fuzzer",
    "//chrome/browser/ash/printing:zeroconf_printer_detector_fuzzer",
    "//chrome/browser/ash/smb_client:smb_url_fuzzer",
  ]

  if (use_fuzzing_engine_with_lpm) {
    deps += [
      "//chrome/browser/ash/policy/fuzzer:policy_fuzzer",
      "//chrome/browser/ash/policy/remote_commands:policy_remote_commands_fuzzer",
      "//chrome/browser/ash/policy/reporting:policy_single_install_event_log_fuzzer",
    ]
  }
}
